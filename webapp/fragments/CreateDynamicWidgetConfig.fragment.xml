<core:FragmentDefinition xmlns:form="sap.ui.layout.form" xmlns:layout="sap.ui.layout" xmlns:core="sap.ui.core" xmlns:u="sap.ui.unified"
	xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:viz="sap.viz.ui5.controls" xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds"
	xmlns:viz.data="sap.viz.ui5.data" xmlns:w="sap.ui.integration.widgets" xmlns:f="sap.f" xmlns:tnt="sap.tnt"
	xmlns:codeeditor="sap.ui.codeeditor">
	<Panel height="100%" class="admgisreppanelcls">
			<content>
	<VBox id="createDynamicWidgetConfigContainer" visible="false">
		<HBox class="tblhdrcls" justifyContent="SpaceBetween" alignItems="Center">
			<HBox alignItems="Center">
				<Button id="backToListBtn" text="" icon="sap-icon://nav-back" press="onBackToWidgetList"/>
				<Text text="Dynamic Widget Config" class="sapUiTinyMarginBegin"/>
			</HBox>
			<HBox>
				<!-- <Button id="editBtn" text="Edit" enabled="false" press="onCreateEditPress"/> -->
				<Button id="saveBtn" text="Save" type="Emphasized" visible="true" press="onCreateSavePress"/>
				<!-- <Button id="submitBtn" text="Submit" visible="false" press="onCreateCancelPress"/> -->
				<!-- <Button id="deleteBtn" type="Reject" text="Delete" visible="true" press="onCreateDeleteWidget"/> -->
			</HBox>
		</HBox>
		
		<!-- Main Content Area with Form on Left and Mobile Preview on Right -->
		<HBox class="sapUiSmallMargin" height="100%">
			<!-- Left Side - Configuration Forms -->
			<VBox width="60%" class="sapUiSmallMarginEnd">
				<Panel headerText="Widget Details" class="sapUiMediumMargin">
					<content>
						<form:SimpleForm id="createWidgetSimpleForm" editable="true" layout="ResponsiveGridLayout" labelSpanXL="3" labelSpanL="3"
							labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0" columnsXL="1"
							columnsL="1" columnsM="1" singleContainerFullSize="false">
						<form:content>
							<Label id="createWidgetIdLabel" text="Widget ID"/>
							<Input id="createWidgetId" value="{createWidgetValues>/widgetId}" editable="false" liveChange="onCreateDataSourceChange"/>
							<Label id="createWidgetNameLabel" text="Widget Name"/>
							<Input id="createWidgetName" value="{createWidgetValues>/widgetName}" editable="true" change="onCreateWidgetNameChange" liveChange="onCreateWidgetNameChange"/>
							<Label text="Widget Type"/>
							<Select id="createWidgetType" items="{path: 'createWidgetTypeDropdownData>/'}" selectedKey="{createWidgetValues>/selectedWidgetType}" change="onCreateWidgetTypeChange">
								<core:Item text="{createWidgetTypeDropdownData>Text}" key="{createWidgetTypeDropdownData>Id}"/>
							</Select>
							<Label text="Chart Type"/>
							<Select id="createChartType" items="{path: 'createChartTypeDropdownData>/'}" selectedKey="{createWidgetValues>/selectedChartType}" change="onCreateChartTypeChange">
								<core:Item text="{createChartTypeDropdownData>Text}" key="{createChartTypeDropdownData>Id}"/>
							</Select>
							<Label id="createTooltipLabel" text="Tooltip"/>
							<Input id="createTooltip" value="{createWidgetValues>/widgetId}" editable="true" />
							<Label text="Data Source"/>
							<Input id="createDataSourceId" value="{createWidgetValues>/selectedDataSource}" liveChange="onCreateDataSourceChange"/>
							<Button id="createCheckBtn" text="Check" enabled="true" press="onCreateCheckQueryValidity"/>
							<BusyIndicator id="createBusyIndicator" class="sapUiTinyMarginBottom" visible="false"/>
							<core:Icon id="createSuccessIcon" src="sap-icon://message-success" visible="false" class="size1" color="#107e3e"/>
						</form:content>
					</form:SimpleForm>
					</content>
				</Panel>
				<HBox class="tblhdrcls" justifyContent="SpaceBetween" alignItems="Center">
					<Text text=""/>
					<Button id="createFormSubmit" text="Refresh Query Data" type="Emphasized" visible="true" press="onCreateGetGroupedFormValues"/>
				</HBox>
				<!-- <Panel expanded="true" expandable="true" headerText="Bex Query Parameter" width="auto" class="sapUiResponsiveMargin">
					<content> -->
						<VBox class="sapUiSmallMargin">
							<form:SimpleForm id="createBexQueryParameterForm" editable="true" layout="ResponsiveGridLayout" title="Widget Config" labelSpanXL="3"
								labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0"
								columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false">
								<form:content></form:content>
							</form:SimpleForm>
						</VBox>
						<VBox class="sapUiSmallMargin">
							<BusyIndicator id="createTabBarBusyIndicator" visible="true" />
							<IconTabBar visible = "false" id="createIconTabBarInlineMode" headerMode="Inline" expanded="{device>/isNoPhone}" class="sapUiResponsiveContentPadding">
								<items>
									<IconTabFilter text="MetaData" key="info">
										<VBox class="sapUiSmallMargin">
											<form:SimpleForm id="createFilterMappingForm" editable="true" layout="ResponsiveGridLayout" title="Filters" labelSpanXL="3" labelSpanL="3"
												labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0" columnsXL="1"
												columnsL="1" columnsM="1" singleContainerFullSize="false">
												<form:content></form:content>
											</form:SimpleForm>
										</VBox>
										<VBox class="sapUiSmallMargin">
											<form:SimpleForm id="createTileMappingForm" editable="true" layout="ResponsiveGridLayout" title="Data Binding" labelSpanXL="3" labelSpanL="3"
												labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0" columnsXL="1"
												columnsL="1" columnsM="1" singleContainerFullSize="false">
												<form:content></form:content>
											</form:SimpleForm>
										</VBox>
										<VBox class="sapUiSmallMargin">
											<form:SimpleForm id="createDataMappingForm" editable="true" layout="ResponsiveGridLayout" title="Chart Binding" labelSpanXL="3" labelSpanL="3"
												labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0" columnsXL="1"
												columnsL="1" columnsM="1" singleContainerFullSize="false">
												<form:content></form:content>
											</form:SimpleForm>
										</VBox>
									</IconTabFilter>
									<IconTabFilter text="JSON" key="attachments">
										<Table id="createJsonDataTable" items="{createJsonDataModel>/}" class="sapUiResponsiveMargin">
											<columns></columns>
											<items>
												<ColumnListItem></ColumnListItem>
											</items>
										</Table>
									</IconTabFilter>
								</items>
							</IconTabBar>
						</VBox>
					<!-- </content>
				</Panel> -->
			</VBox>
			
			<!-- Right Side - Mobile Preview -->
			<VBox width="40%" class="sapUiSmallMarginBegin">
				<Panel headerText="Mobile Preview" class="sapUiMediumMargin">
					<content>
						<VBox id="mobilePreviewContainer" class="sapUiMediumMargin" alignItems="Center">
							<VBox width="500px" height="750px" class="sapUiContentPadding mobilePhoneFrame" justifyContent="Center" alignItems="Center">
								<VBox width="100%" height="100%" class="sapUiContentPadding mobileScreen" justifyContent="Center" alignItems="Center">
									<VBox id="defaultPreviewContent" justifyContent="Center" alignItems="Center">
										<Text text="Mobile Preview Area" class="sapUiMediumText"/>
										<Text text="Widget will appear here" class="sapUiSmallText"/>
									</VBox>
									<VBox id="chartPreviewContainer" visible="false" width="100%" height="100%" justifyContent="Center" alignItems="Center">
										<!-- Chart will be dynamically inserted here -->
									</VBox>
								</VBox>
							</VBox>
						</VBox>
					</content>
				</Panel>
			</VBox>
		</HBox>
	</VBox>
	</content>
	</Panel>
</core:FragmentDefinition>